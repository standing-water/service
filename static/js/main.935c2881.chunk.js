(this["webpackJsonpchat-pdf"]=this["webpackJsonpchat-pdf"]||[]).push([[0],{115:function(e,n,t){e.exports=t(199)},148:function(e,n){},150:function(e,n){},151:function(e,n){},152:function(e,n){},153:function(e,n){},198:function(e,n,t){},199:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(36),i=t.n(c),o=t(40),u=t(31),s=t(100),l=t(111),d=t(15),f=t(18),b={REQUEST:"GET_PRESENTATIONS_REQUEST",SUCCESS:"GET_PRESENTATIONS_SUCCESS",FAIL:"GET_PRESENTATIONS_FAIL"},p={REQUEST:"CREATE_PRESENTATION_REQUEST",SUCCESS:"CREATE_PRESENTATION_SUCCESS",FAIL:"CREATE_PRESENTATION_FAIL"},m={REQUEST:"GET_QUESTIONS_REQUEST",SUCCESS:"GET_QUESTIONS_SUCCESS",FAIL:"GET_QUESTIONS_FAIL"},E={REQUEST:"CREATE_QUESTION_REQUEST",SUCCESS:"CREATE_QUESTION_SUCCESS",FAIL:"CREATE_QUESTION_FAIL"},h={REQUEST:"ENTER_ROOM_REQUEST",SUCCESS:"ENTER_ROOM_SUCCESS",FAIL:"ENTER_ROOM_FAIL"},O={REQUEST:"LOGIN_REQUEST",SUCCESS:"LOGIN_SUCCESS",FAIL:"LOGIN_FAIL"},x={REQUEST:"LIKE_REQUEST",SUCCESS:"LIKE_SUCCESS",FAIL:"LIKE_FAIL"},j={REQUEST:"DISLIKE_REQUEST",SUCCESS:"DISLIKE_SUCCESS",FAIL:"DISLIKE_FAIL"},g="http://api.standingwater.jadekim.kr";function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(t,!0).forEach((function(n){Object(f.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w={ws:new WebSocket("ws://api.standingwater.jadekim.kr/realtime"),user:null,isFetchingRooms:!1,isFetchingCurrentRoom:!1,rooms:[],currentRoom:null,questions:[]};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case b.REQUEST:return S({},e,{isFetchingRooms:!0});case b.SUCCESS:return S({},e,{rooms:n.payload.rooms,isFetchingRooms:!1});case h.REQUEST:return S({},e,{isFetchingCurrentRoom:!0});case h.SUCCESS:return S({},e,{currentRoom:n.payload.roomDetail,isFetchingCurrentRoom:!1});case m.SUCCESS:return S({},e,{questions:n.payload.questions});case E.SUCCESS:return S({},e);case O.SUCCESS:return S({},e,{user:n.payload.user});default:return e}},C=Object(u.combineReducers)({presentation:k}),y=t(5),T=t.n(y),R=t(10),I=t(16),U=t.n(I),A=function(){return U.a.get("".concat(g,"/presentation"))},N=function(e,n){var t=new FormData;return t.append("name",e),t.append("file",n),U.a.post("".concat(g,"/presentation"),t,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS",Accept:"application/json","Content-Type":"multipart/form-data"}})},L=function(e){return U.a.get("".concat(g,"/presentation/").concat(e))},_=function(e,n){return U.a.get("".concat(g,"/presentation/").concat(n,"/question"),{headers:{Authorization:"bearer ".concat(e)}})},F=function(e,n,t,r){var a=new FormData;return a.append("page",t.toString()),a.append("content",r),U.a.post("".concat(g,"/presentation/").concat(n,"/question"),a,{headers:{Authorization:"bearer ".concat(e),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}})},Q=function(e){return U.a.post("".concat(g,"/presentation/").concat(e,"/login"),null,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}})},P=function(e,n){return e.send(JSON.stringify(n))},D=function(e,n,t){return U.a.post("".concat(g,"/presentation/").concat(n,"/question/").concat(t,"/like"),null,{headers:{Authorization:"bearer ".concat(e),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}})},q=function(e,n,t){return U.a.delete("".concat(g,"/presentation/").concat(n,"/question/").concat(t,"/like"),{headers:{Authorization:"bearer ".concat(e),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}})},z=t(201),M=Object(z.a)(b.REQUEST),G=Object(z.a)(b.SUCCESS),B=(Object(z.a)(b.FAIL),Object(z.a)(p.REQUEST)),J=(Object(z.a)(p.SUCCESS),Object(z.a)(p.FAIL)),K=Object(z.a)(h.REQUEST),Y=Object(z.a)(h.SUCCESS),W=(Object(z.a)(h.FAIL),Object(z.a)(m.REQUEST)),H=Object(z.a)(m.SUCCESS),$=(Object(z.a)(m.FAIL),Object(z.a)(E.REQUEST)),V=Object(z.a)(E.SUCCESS),X=Object(z.a)(E.FAIL),Z=Object(z.a)(O.REQUEST),ee=Object(z.a)(O.SUCCESS),ne=(Object(z.a)(O.FAIL),Object(z.a)(x.REQUEST)),te=(Object(z.a)(x.SUCCESS),Object(z.a)(x.FAIL),Object(z.a)(j.REQUEST)),re=(Object(z.a)(j.SUCCESS),Object(z.a)(j.FAIL),T.a.mark(fe)),ae=T.a.mark(be),ce=T.a.mark(pe),ie=T.a.mark(me),oe=T.a.mark(Ee),ue=T.a.mark(he),se=T.a.mark(Oe),le=T.a.mark(xe),de=T.a.mark(je);function fe(e){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.b)(A);case 3:return n=e.sent,e.next=6,Object(R.c)(G({rooms:n.data.data.items}));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),re,null,[[0,8]])}function be(e){var n,t,r;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.payload,t=n.name,r=n.file,a.prev=1,a.next=4,Object(R.b)(N,t,r);case 4:return a.sent,a.next=7,Object(R.c)(M());case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(R.c)(J());case 13:case"end":return a.stop()}}),ae,null,[[1,9]])}function pe(e){var n,t;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload.enterId,r.prev=1,r.next=4,Object(R.b)(L,n);case 4:return t=r.sent,r.next=7,Object(R.c)(Y({roomDetail:t.data.data}));case 7:r.next=11;break;case 9:r.prev=9,r.t0=r.catch(1);case 11:case"end":return r.stop()}}),ce,null,[[1,9]])}function me(e){var n,t,r,a;return T.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.payload,t=n.token,r=n.presentationId,c.prev=1,c.next=4,Object(R.b)(_,t,r);case 4:return a=c.sent,c.next=7,Object(R.c)(H({questions:a.data.data.items}));case 7:c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),console.log(c.t0);case 12:case"end":return c.stop()}}),ie,null,[[1,9]])}function Ee(e){var n,t,r,a,c,i;return T.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.payload,t=n.token,r=n.presentationId,a=n.page,c=n.content,o.prev=1,o.next=4,Object(R.b)(F,t,r,a,c);case 4:return i=o.sent,console.log(i.data.data),o.next=8,Object(R.c)(V(c));case 8:return o.next=10,Object(R.c)(W({token:t,presentationId:r}));case 10:o.next=16;break;case 12:return o.prev=12,o.t0=o.catch(1),o.next=16,Object(R.c)(X());case 16:case"end":return o.stop()}}),oe,null,[[1,12]])}function he(e){var n,t;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload.presentationId,r.prev=1,r.next=4,Object(R.b)(Q,n);case 4:return t=r.sent,r.next=7,Object(R.c)(ee({user:t.data.data}));case 7:r.next=11;break;case 9:r.prev=9,r.t0=r.catch(1);case 11:case"end":return r.stop()}}),ue,null,[[1,9]])}function Oe(e){var n,t,r,a;return T.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.payload,t=n.token,r=n.presentationId,a=n.questionId,c.prev=1,c.next=4,Object(R.b)(D,t,r,a);case 4:return c.next=6,Object(R.c)(W({token:t,presentationId:r}));case 6:c.next=10;break;case 8:c.prev=8,c.t0=c.catch(1);case 10:case"end":return c.stop()}}),se,null,[[1,8]])}function xe(e){var n,t,r,a;return T.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.payload,t=n.token,r=n.presentationId,a=n.questionId,c.prev=1,c.next=4,Object(R.b)(q,t,r,a);case 4:return c.next=6,Object(R.c)(W({token:t,presentationId:r}));case 6:c.next=10;break;case 8:c.prev=8,c.t0=c.catch(1);case 10:case"end":return c.stop()}}),le,null,[[1,8]])}function je(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([Object(R.d)(b.REQUEST,fe),Object(R.d)(p.REQUEST,be),Object(R.d)(h.REQUEST,pe),Object(R.d)(m.REQUEST,me),Object(R.d)(E.REQUEST,Ee),Object(R.d)(O.REQUEST,he),Object(R.d)(x.REQUEST,Oe),Object(R.d)(j.REQUEST,xe)]);case 2:case"end":return e.stop()}}),de)}var ge=T.a.mark(ve);function ve(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([je()]);case 2:case"end":return e.stop()}}),ge)}var Se=t(9),we=t(38),ke=t(69),Ce=t(58),ye=t(2),Te=t(3);function Re(){var e=Object(ye.a)(["\n  background: ",";\n  color: ",";\n  padding: 0.25rem 0.5rem;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: 0.3s;\n\n  &:hover {\n    background: ",";\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  > i {\n    margin-right: 4px;\n  }\n\n  ","\n"]);return Re=function(){return e},e}var Ie=Te.b.button(Re(),(function(e){return"PRIMARY"===e.buttonType?"#1da1f2":"#ebebeb"}),(function(e){return"PRIMARY"===e.buttonType?"white":"black"}),(function(e){return"PRIMARY"===e.buttonType?"#1c8cf0":"#f6f6f6"}),(function(e){return e.styles})),Ue=a.a.forwardRef((function(e,n){var t=e.buttonType,r=e.styles,c=e.children,i=e.icon,o=Object(Ce.a)(e,["buttonType","styles","children","icon"]);return a.a.createElement(Ie,Object.assign({ref:n,buttonType:t,styles:r},o),i&&a.a.createElement("i",{className:i}),c)}));function Ae(){var e=Object(ye.a)(["\n  margin-right: 4px;\n"]);return Ae=function(){return e},e}function Ne(){var e=Object(ye.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  border-left: 1px solid #e9e9e9;\n  width: 32px;\n  height: 100%;\n  margin: 2px 0;\n  border-radius: 50px;\n  background-color: ",";\n  color: white;\n  font-size: 18px;\n  font-weight: bold;\n"]);return Ne=function(){return e},e}function Le(){var e=Object(ye.a)(["\n  border: none;\n  font-size: 16px;\n  width: 90%;\n  &:focus {\n    outline: none;\n  }\n"]);return Le=function(){return e},e}function _e(){var e=Object(ye.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 40px;\n  background: white;\n  border: 1px solid ",";\n  justify-content: space-between;\n  padding: 2px 5px 2px 1rem;\n\n  ","\n  border-radius: ",";\n\n  > i {\n    color: ",";\n  }\n"]);return _e=function(){return e},e}var Fe=Te.b.div(_e(),"#ebebeb",(function(e){return e.styles}),(function(e){return"ROUND"===e.shape?"50px":"4px"}),"#ebebeb"),Qe=Te.b.input(Le()),Pe=Te.b.button(Ne(),"#1c8cf0"),De=Te.b.i(Ae()),qe=a.a.forwardRef((function(e,n){var t=e.shape,r=void 0===t?"SQUARE":t,c=e.icon,i=e.styles,o=e.buttonIcon,u=e.onClickButton,s=Object(Ce.a)(e,["shape","icon","styles","buttonIcon","onClickButton"]);return a.a.createElement(Fe,{styles:i,shape:r},c&&a.a.createElement(De,{className:c}),a.a.createElement(Qe,Object.assign({},s,{ref:n})),o&&a.a.createElement(Pe,{onClick:u},a.a.createElement("i",{className:o})))}));function ze(){var e=Object(ye.a)(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 42px;\n  height: 42px;\n  background: transparent;\n  border: none;\n  border-radius: 4px;\n  transition: 0.3s;\n  font-size: 24px;\n  cursor: pointer;\n\n  &:hover {\n    transition: 0.3s;\n    background: ",";\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  & + & {\n    margin-top: 1rem;\n  }\n"]);return ze=function(){return e},e}function Me(){var e=Object(ye.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 2rem 0;\n  width: 80px;\n  height: 100vh;\n  background: ",";\n"]);return Me=function(){return e},e}var Ge=Te.b.div(Me(),"#ebebeb"),Be=Te.b.button(ze(),"#f6f6f6"),Je=function(){var e=Object(we.f)(),n=Object(r.useContext)(Nt),t=n.isCreateRoom,c=n.setIsCreateRoom,i=Object(r.useCallback)((function(){e.push("/"),c(!t)}),[e,c,t]),o=Object(r.useCallback)((function(){e.push("/"),c(!1)}),[e,c]);return a.a.createElement(Ge,null,a.a.createElement(Be,{onClick:o},a.a.createElement("i",{className:"xi-list xi-x"})),a.a.createElement(Be,{onClick:i},a.a.createElement("i",{className:t?"xi-angle-left xi-x":"xi-plus xi-x"})))},Ke=t(24),Ye=t(106),We=t(105),He=t.n(We);t(144);function $e(){var e=Object(ye.a)(["\n              width: 100%;\n              margin-top: 0.5rem;\n              font-size: 16px;\n            "]);return $e=function(){return e},e}function Ve(){var e=Object(ye.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100px;\n"]);return Ve=function(){return e},e}function Xe(){var e=Object(ye.a)(["\n  margin: 1rem 0;\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(ye.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 64px;\n  background: white;\n  box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n  transition: 0.3s;\n  padding: 0.5rem;\n  cursor: pointer;\n\n  &:hover {\n    transition: 0.3s;\n    box-shadow: 0px 10px 10px rgba(0, 0, 0, 0.1);\n  }\n\n  & + & {\n    margin-top: 16px;\n  }\n"]);return Ze=function(){return e},e}function en(){var e=Object(ye.a)(["\n  margin: 0;\n  padding: 0;\n"]);return en=function(){return e},e}function nn(){var e=Object(ye.a)(["\n  /* flex-grow: 1; */\n  position: absolute;\n  right: 0;\n  z-index: 100;\n  width: ",";\n  will-change: width;\n  transition: 0.3s;\n  height: 100%;\n  padding: 5rem;\n  border-radius: 10px 10px 0 0;\n  background: white;\n  box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2);\n  max-height: 100%;\n  overflow-y: auto;\n"]);return nn=function(){return e},e}function tn(){var e=Object(ye.a)(["\n  width: 300px;\n  padding: 1rem;\n  height: 100%;\n  transition: width 0.3s;\n  will-change: width;\n"]);return tn=function(){return e},e}function rn(){var e=Object(ye.a)(["\n  /* flex-basis: 300px; */\n  position: relative;\n  flex-grow: 1;\n  width: 300px;\n  height: 100%;\n  background: ",";\n  display: flex;\n\n  /* justify-content: flex-end; */\n"]);return rn=function(){return e},e}function an(){var e=Object(ye.a)(["\n  display: flex;\n  width: 100%;\n  height: 100vh;\n"]);return an=function(){return e},e}var cn=Te.b.div(an()),on=Te.b.div(rn(),"#f6f6f6"),un=Te.b.div(tn()),sn=Te.b.div(nn(),(function(e){return e.isExtends?"100%":"calc(100% - 300px)"})),ln=Te.b.ul(en()),dn=Te.b.li(Ze()),fn=(Te.b.div(Xe()),Te.b.div(Ve())),bn=(Object(r.createContext)({isCreateRoom:!1,setIsCreateRoom:function(e){}}),function(){var e=Object(d.b)(),n=Object(we.f)(),t=Object(r.useContext)(Nt),c=t.isCreateRoom,i=t.setIsCreateRoom,o=(Object(r.createRef)(),Object(Ye.a)()),u=o.register,s=o.handleSubmit,l=(o.errors,Object(d.c)((function(e){return e.presentation})));Object(r.useEffect)((function(){e(M())}),[]);var f=s((function(n){var t=n.title,r=n.files;r.length>0&&e(B({name:t,file:r[0]}))})),b=Object(r.useCallback)((function(e){return function(){n.push("/presentation/".concat(e)),i(!1)}}),[n,i]),p=Object(r.useMemo)((function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"Create Room"),a.a.createElement("form",{onSubmit:f},a.a.createElement(qe,{placeholder:"Room title",name:"title",ref:u}),a.a.createElement("input",{ref:u,type:"file",name:"files",accept:".pdf"}),a.a.createElement(Ue,{buttonType:"PRIMARY",type:"submit",styles:Object(Te.a)($e())},"Create")))}),[]),m=Object(r.useMemo)((function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Presentations"),l.isFetchingRooms?a.a.createElement(fn,null,a.a.createElement(He.a,{color:"#1da1f2",size:32,speed:1,animating:!0})):a.a.createElement(ln,null,Object(Ke.a)(l.rooms).sort((function(e,n){return n.id-e.id})).map((function(e){return a.a.createElement(dn,{key:e.enterId,onClick:b(e.enterId)},e.name)}))))}),[l.rooms,l.isFetchingRooms,b]);return a.a.createElement(cn,null,a.a.createElement(on,null,a.a.createElement(un,null,p),a.a.createElement(sn,{isExtends:!c},m)))}),pn=t(13),mn=t(55),En=t(57),hn=t(56),On=t(74),xn=t.n(On),jn=t(43),gn=t(107),vn=t.n(gn);function Sn(){var e=Object(ye.a)(["\n  display: flex;\n  justify-content: center;\n"]);return Sn=function(){return e},e}function wn(){var e=Object(ye.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return wn=function(){return e},e}function kn(){var e=Object(ye.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n"]);return kn=function(){return e},e}function Cn(){var e=Object(ye.a)(["\n  /* flex: 1; */\n  height: 50px;\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n"]);return Cn=function(){return e},e}function yn(){var e=Object(ye.a)(["\n  flex: 1;\n"]);return yn=function(){return e},e}function Tn(){var e=Object(ye.a)(["\n  flex: 10;\n  padding: 0.5rem;\n  overflow-y: scroll;\n"]);return Tn=function(){return e},e}function Rn(){var e=Object(ye.a)(["\n  display: flex;\n  flex-basis: 400px;\n  flex-direction: column;\n  padding: 10px;\n  padding-bottom: 0;\n"]);return Rn=function(){return e},e}function In(){var e=Object(ye.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 70px;\n  padding: 0 2rem;\n"]);return In=function(){return e},e}function Un(){var e=Object(ye.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  background: black;\n"]);return Un=function(){return e},e}function An(){var e=Object(ye.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  max-width: 100%;\n  background: black;\n  height: 100%;\n\n  > div {\n    height: 100%;\n  }\n"]);return An=function(){return e},e}function Nn(){var e=Object(ye.a)(["\n  width: 100px;\n  height: 100%;\n  background: transparent;\n  border: none;\n  transition: 0.3s;\n\n  &:hover {\n    transition: 0.3s;\n    background: ",";\n  }\n  &:focus {\n    outline: none;\n  }\n"]);return Nn=function(){return e},e}function Ln(){var e=Object(ye.a)(["\n  position: absolute;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n"]);return Ln=function(){return e},e}function _n(){var e=Object(ye.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  min-width: 500px;\n  max-width: 100%;\n"]);return _n=function(){return e},e}function Fn(){var e=Object(ye.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100vw;\n  height: 100vh;\n"]);return Fn=function(){return e},e}var Qn=Te.b.div(Fn()),Pn=Te.b.div(_n()),Dn=Te.b.div(Ln()),qn=Te.b.button(Nn(),(function(e){return"LEFT"===e.direction?"linear-gradient(90deg,rgba(34, 34, 34, 0.3) 0%,rgba(255, 255, 255, 0) 73%,rgba(255, 255, 255, 0) 100%)":"linear-gradient(270deg,rgba(34, 34, 34, 0.3) 0%,rgba(255, 255, 255, 0) 73%,rgba(255, 255, 255, 0) 100%)"})),zn=Te.b.div(An()),Mn=Te.b.div(Un()),Gn=Te.b.div(In()),Bn=Te.b.div(Rn()),Jn=Te.b.div(Tn()),Kn=Te.b.div(yn()),Yn=Te.b.div(Cn()),Wn=Te.b.div(kn()),Hn=Te.b.div(wn()),$n=Te.b.div(Sn());function Vn(){var e=Object(ye.a)(["\n                  font-size: 18px;\n                "]);return Vn=function(){return e},e}function Xn(){var e=Object(ye.a)(["\n                  font-size: 18px;\n                  margin-right: 4px;\n                "]);return Xn=function(){return e},e}function Zn(){var e=Object(ye.a)(["\n  font-size: 12px;\n  font-weight: 600;\n"]);return Zn=function(){return e},e}function et(){var e=Object(ye.a)(["\n  font-size: 12px;\n  margin-top: 10px;\n"]);return et=function(){return e},e}function nt(){var e=Object(ye.a)(["\n  background: white;\n  border-radius: 4px;\n  border: 1px solid ",";\n  padding: 0.5rem;\n\n  & + & {\n    margin-top: 1rem;\n  }\n"]);return nt=function(){return e},e}var tt=Te.b.div(nt(),"#ebebeb"),rt=Te.b.div(et()),at=Te.b.div(Zn()),ct=function(e){Object(mn.a)(e);var n=Object(d.b)(),t=Object(we.g)(),c=Object(r.createRef)(),i=Object(r.createRef)(),o=Object(r.createRef)(),u=Object(r.useState)(!1),s=Object(Se.a)(u,2),l=s[0],f=s[1],b=Object(r.useState)(1),p=Object(Se.a)(b,2),m=p[0],E=p[1],h=Object(r.useState)(null),O=Object(Se.a)(h,2),x=(O[0],O[1]),j=Object(r.useState)(""),g=Object(Se.a)(j,2),v=g[0],S=g[1],w=Object(r.useState)({width:0,height:0}),k=Object(Se.a)(w,2),C=k[0],y=k[1],R=Object(r.useState)(0),I=Object(Se.a)(R,2),A=I[0],N=I[1],L=Object(d.c)((function(e){return e.presentation})),_=L.isFetchingCurrentRoom,F=L.currentRoom,Q=L.ws,D=L.user,q=L.questions;Q.onmessage=function(e){var t=JSON.parse(e.data);switch(t.event){case"crud":switch(t.data.resource){case"question_like":case"question":if(D&&F)return n(W({token:D.token,presentationId:F.id}))}break;case"active_user":return N(t.data.count)}},Object(r.useEffect)((function(){function e(){return(e=Object(pn.a)(T.a.mark((function e(){var n,t,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=7;break}return e.next=3,U.a.get(F.fileUrl,{headers:{Accept:"application/pdf"},responseType:"blob"});case 3:n=e.sent,t=new Blob([n.data],{type:"application/pdf"}),r=URL.createObjectURL(t),S(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),F&&(n(Z({presentationId:F.id})),N(F.activeUserCount+1))}),[F,n]),Object(r.useEffect)((function(){D&&F&&(n(W({token:D.token,presentationId:F.id})),P(Q,{message:"subscribe",parameter:{presentation_id:F.id,token:D.token}}))}),[D,F,Q,n]),Object(r.useEffect)((function(){return function(){P(Q,{message:"unsubscribe"})}}),[Q]),Object(r.useEffect)((function(){t&&t.params&&n(K({enterId:t.params.enterId}))}),[]),Object(r.useEffect)((function(){o.current&&(o.current.scrollTop=o.current.scrollHeight)}),[q.length,o]);var z=Object(r.useCallback)((function(){E(m-1)}),[m]),M=Object(r.useCallback)((function(){E(m+1)}),[m]),G=Object(r.useCallback)((function(e,n){y({width:e,height:n})}),[]),B=Object(r.useCallback)((function(){f(!0)}),[]),J=Object(r.useCallback)((function(){xn.a.isEnabled&&c.current&&xn.a.toggle(c.current)}),[c]),Y=Object(r.useCallback)((function(){f(!1)}),[]),H=Object(r.useCallback)((function(){i.current&&F&&D&&(n($({token:D.token,presentationId:F.id,page:m,content:i.current.value})),i.current.value="")}),[n,F,D,i,m]);if(_||!F||!D)return null;var V;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Qn,{onKeyDown:function(e){switch(e.keyCode){case 37:return z();case 39:return M()}}},a.a.createElement(Pn,{ref:c},a.a.createElement(En.a,{handleWidth:!0,handleHeight:!0,onResize:G},a.a.createElement(zn,null,a.a.createElement(Dn,null,a.a.createElement(qn,{direction:"LEFT",onClick:z}),a.a.createElement(qn,{direction:"RIGHT",onClick:M})),a.a.createElement(jn.Document,{file:v,onLoadError:function(e){return console.log(e)},onLoadSuccess:function(e){var n=e.numPages;x(n)}},a.a.createElement(Mn,null,a.a.createElement(jn.Page,{pageNumber:m,width:C.width-10,height:C.height-10}))))),a.a.createElement(Gn,null,a.a.createElement("div",null,a.a.createElement("h2",null,F.name)),a.a.createElement("div",null,a.a.createElement(Ue,{buttonType:"SECONDARY",icon:"xi-share-alt-o xi-x",onClick:B,styles:Object(Te.a)(Xn())},"Share"),a.a.createElement(Ue,{buttonType:"SECONDARY",icon:"xi-expand-square xi-x",onClick:J,styles:Object(Te.a)(Vn())},"Full screen")))),a.a.createElement(Bn,null,a.a.createElement(Yn,null,a.a.createElement(Wn,null,"\ucc44\ud305"),a.a.createElement(Wn,null,"\uc9c8\ubb38")),a.a.createElement("div",null,a.a.createElement("h3",null,"Active Users: ",A)),a.a.createElement(Jn,{ref:o},Object(hn.orderBy)(Object(Ke.a)(q),["likeCount","id"],["desc","desc"]).map((function(e){return a.a.createElement(tt,{key:e.id},a.a.createElement(at,null,e.nickname),e.content,a.a.createElement(rt,null,a.a.createElement("span",{onClick:(t=e,function(){t.liked?n(te({token:D.token,presentationId:F.id,questionId:t.id})):n(ne({token:D.token,presentationId:F.id,questionId:t.id}))})},a.a.createElement("i",{className:e.liked?"xi-heart xi-x":"xi-heart-o xi-x",style:{color:e.liked?"red":"black"}})," ",e.likeCount)));var t}))),a.a.createElement(Kn,null,a.a.createElement(at,null,D.nickname),a.a.createElement(qe,{ref:i,shape:"ROUND",buttonIcon:"xi-arrow-up",onClickButton:H}))),a.a.createElement(vn.a,{isOpen:l,onRequestClose:Y,style:{content:{top:"25%",height:"inherit"}}},a.a.createElement("h1",null,"Share Presentation"),a.a.createElement(Hn,null,a.a.createElement("img",{src:(V=F.enterId,"https://chart.googleapis.com/chart?cht=qr&chs=300x300&chl=http://standingwater.jadekim.kr/presentation/".concat(V)),alt:"qrcode"})),a.a.createElement($n,null,a.a.createElement(Ue,{buttonType:"SECONDARY",onClick:Y},"Close")))))},it=t(44),ot=t(110);function ut(){var e=Object(ye.a)(["\n  align-self: ",";\n  margin-top: 2px;\n  margin-right: ",";\n  margin-left: ",";\n  font-size: 14px;\n"]);return ut=function(){return e},e}function st(){var e=Object(ye.a)(["\n  width: 100%;\n  border-radius: 20px;\n  padding: 8px 15px;\n  color: ",";\n  background: ",';\n  background-attachment: fixed;\n  position: relative;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre;\n\n  :before {\n    content: "";\n    position: absolute;\n    z-index: 0;\n    bottom: 0;\n    right: ',";\n    left: ",";\n    height: 20px;\n    width: 20px;\n    background: ",';\n    background-attachment: fixed;\n    border-bottom-left-radius: 15px;\n  }\n\n  :after {\n    content: "";\n    position: absolute;\n    z-index: 1;\n    bottom: 0;\n    right: ',";\n    left: ",";\n    width: 10px;\n    height: 20px;\n    background: white;\n    border-bottom-left-radius: 10px;\n  }\n"]);return st=function(){return e},e}function lt(){var e=Object(ye.a)(["\n  margin-top: 10px;\n  margin-bottom: 5px;\n  display: flex;\n  flex-shrink: 0;\n  align-self: ",";\n  margin-right: ",";\n  margin-left: ",";\n  max-width: 70%;\n  flex-direction: column;\n"]);return lt=function(){return e},e}function dt(){var e=Object(ye.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n  border-right: 1px solid #eee;\n  font-size: 20px;\n  cursor: pointer;\n  color: ",";\n  &:last-child {\n    border-right: none;\n  }\n"]);return dt=function(){return e},e}function ft(){var e=Object(ye.a)(["\n  height: 60px;\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  -webkit-box-shadow: 0px 3px 5px 0px rgba(0, 0, 0, 0.15);\n  -moz-box-shadow: 0px 3px 5px 0px rgba(0, 0, 0, 0.15);\n  box-shadow: 0px 3px 5px 0px rgba(0, 0, 0, 0.15);\n"]);return ft=function(){return e},e}function bt(){var e=Object(ye.a)(["\n  display: flex;\n  position: sticky;\n  position: -webkit-sticky;\n  bottom: 100;\n  width: 100%;\n  padding: 0 15px;\n"]);return bt=function(){return e},e}function pt(){var e=Object(ye.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  height: calc(100% - 60px - 40px);\n  overflow-x: hidden;\n\n  overflow-y: scroll;\n  white-space: nowrap;\n"]);return pt=function(){return e},e}function mt(){var e=Object(ye.a)(["\n  display: flex;\n  height: calc(100% - 250px);\n  flex-direction: column;\n  position: relative;\n"]);return mt=function(){return e},e}function Et(){var e=Object(ye.a)(["\n  display: flex;\n  background-color: black;\n  justify-content: center;\n  align-items: center;\n"]);return Et=function(){return e},e}function ht(){var e=Object(ye.a)(["\n  width: 100%;\n"]);return ht=function(){return e},e}function Ot(){var e=Object(ye.a)(["\n  padding-top: 20px;\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  height: 250px;\n"]);return Ot=function(){return e},e}function xt(){var e=Object(ye.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  height: 99vh;\n"]);return xt=function(){return e},e}var jt=Te.b.div(xt()),gt=Te.b.div(Ot()),vt=(Object(Te.b)(ot.Document)(ht()),Te.b.div(Et())),St=Te.b.div(mt()),wt=Te.b.div(pt()),kt=Te.b.div(bt()),Ct=Te.b.div(ft()),yt=Te.b.div(dt(),(function(e){return e.tabState===e.tabId?"#1c8cf0":"black"})),Tt=Te.b.div(lt(),(function(e){return e.mine?"flex-end":"flex-start"}),(function(e){return e.mine?"4%":null}),(function(e){return e.mine?null:"4%"})),Rt=Te.b.div(st(),(function(e){return e.mine?"white":"black"}),(function(e){return e.mine?"#1c8cf0":"#eee"}),(function(e){return e.mine?"-8px":null}),(function(e){return e.mine?null:"-7px"}),(function(e){return e.mine?"#1c8cf0":"#eee"}),(function(e){return e.mine?"-10px":null}),(function(e){return e.mine?null:"-10px"})),It=Te.b.span(ut(),(function(e){return e.mine?"flex-end":"flex-start"}),(function(e){return e.mine?"1%":null}),(function(e){return e.mine?null:"1%"})),Ut=[{id:0,icon:"xi-message-o"},{id:1,icon:"xi-help-o"}],At=function(e){Object(mn.a)(e);var n=Object(we.g)(),t=Object(r.createRef)(),c=Object(r.createRef)(),i=Object(r.createRef)(),o=Object(r.useState)(),u=Object(Se.a)(o,2),s=(u[0],u[1],Object(r.useState)(1)),l=Object(Se.a)(s,2),f=l[0],b=l[1],p=Object(r.useState)(null),m=Object(Se.a)(p,2),E=(m[0],m[1]),h=Object(r.useState)(0),O=Object(Se.a)(h,2),x=O[0],j=O[1],g=Object(r.useState)(!1),v=Object(Se.a)(g,2),S=(v[0],v[1],Object(r.useState)("")),w=Object(Se.a)(S,2),k=w[0],C=w[1],y=Object(r.useState)(!1),R=Object(Se.a)(y,2),I=(R[0],R[1],Object(r.useState)({width:0,height:0})),A=Object(Se.a)(I,2),N=A[0],L=A[1],_=Object(d.b)(),F=Object(r.useState)(0),Q=Object(Se.a)(F,2),D=Q[0],q=Q[1],z=Object(d.c)((function(e){return e.presentation})),M=(z.isFetchingCurrentRoom,z.currentRoom),G=z.ws,B=z.user,J=z.questions;G.onmessage=function(e){var n=JSON.parse(e.data);switch(n.event){case"crud":switch(n.data.resource){case"question_like":case"question":if(B&&M)return _(W({token:B.token,presentationId:M.id}))}break;case"active_user":return q(n.data.count)}},Object(r.useEffect)((function(){function e(){return(e=Object(pn.a)(T.a.mark((function e(){var n,t,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=8;break}return console.log(M.fileUrl),e.next=4,U.a.get(M.fileUrl,{headers:{Accept:"application/pdf"},responseType:"blob"});case 4:n=e.sent,t=new Blob([n.data],{type:"application/pdf"}),r=URL.createObjectURL(t),C(r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),it.Events.scrollEvent.register("begin",(function(e,n){})),it.Events.scrollEvent.register("end",(function(e,n){})),it.scrollSpy.update(),M&&(_(Z({presentationId:M.id})),q(M.activeUserCount+1))}),[M,_]),Object(r.useEffect)((function(){B&&M&&(_(W({token:B.token,presentationId:M.id})),P(G,{message:"subscribe",parameter:{presentation_id:M.id,token:B.token}}))}),[B,M,G,_]),Object(r.useEffect)((function(){return function(){P(G,{message:"unsubscribe"})}}),[G]),Object(r.useEffect)((function(){n&&n.params&&_(K({enterId:n.params.enterId}))}),[]);var Y=function(){b(f-1)},H=function(){b(f+1)},V=Object(r.useCallback)((function(e,n){L({width:e,height:n})}),[]);Object(r.useEffect)((function(){it.animateScroll.scrollTo(2e3,{duration:800,delay:0,smooth:!0,containerId:"chatContainer",offset:200})}),[J.length]);return a.a.createElement(jt,null,a.a.createElement(gt,{ref:t},a.a.createElement(En.a,{handleWidth:!0,handleHeight:!0,onResize:V},a.a.createElement(vt,null,a.a.createElement(Dn,null,a.a.createElement(qn,{direction:"LEFT",onClick:Y}),a.a.createElement(qn,{direction:"RIGHT",onClick:H})),a.a.createElement(jn.Document,{file:k,onLoadError:function(e){return console.log(e)},onLoadSuccess:function(e){var n=e.numPages;E(n)}},a.a.createElement(Mn,null,a.a.createElement(jn.Page,{pageNumber:f,width:N.width-10,height:N.height-10})))))),a.a.createElement(St,null,a.a.createElement(Ct,null,Ut.map((function(e){return a.a.createElement(yt,{onClick:function(){return j(e.id)},tabId:e.id,tabState:x},a.a.createElement("i",{className:e.icon}))}))),a.a.createElement("div",null,"Active Users: ",D),a.a.createElement(wt,{id:"chatContainer",ref:c},0===x?a.a.createElement(a.a.Fragment,null,Object(hn.orderBy)(Object(Ke.a)(J),["likeCount","id"],["desc","desc"]).map((function(e){return a.a.createElement(Tt,{mine:!0,key:e.id},a.a.createElement(Rt,{mine:!0},e.content),a.a.createElement(It,{mine:!0},e.nickname,a.a.createElement("span",{onClick:(n=e,function(){B&&M&&(n.liked?_(te({token:B.token,presentationId:M.id,questionId:n.id})):_(ne({token:B.token,presentationId:M.id,questionId:n.id})))})},a.a.createElement("i",{className:e.liked?"xi-heart xi-x":"xi-heart-o xi-x",style:{color:e.liked?"red":"black"}})," ",e.likeCount)));var n}))):a.a.createElement("div",null,"\uc9c8\ubb38"))),a.a.createElement(it.Element,{name:"input"},a.a.createElement(kt,null,a.a.createElement(qe,{ref:i,shape:"ROUND",buttonIcon:"xi-arrow-up",onClickButton:function(){B&&i.current&&M&&(_($({token:B.token,presentationId:M.id,page:f,content:i.current.value})),i.current.focus(),i.current.value="")}}))))},Nt=Object(r.createContext)({isCreateRoom:!1,setIsCreateRoom:function(e){}}),Lt=Object(we.h)((function(){var e=Object(r.useState)(!1),n=Object(Se.a)(e,2),t=n[0],c=n[1],i=Object(d.c)((function(e){return e.presentation})).ws;return Object(r.useEffect)((function(){var e=setInterval((function(){var e={message:"ping",parameter:{timestamp:(new Date).getTime()}};i.send(JSON.stringify(e))}),3e4);return window.addEventListener("beforeunload",(function(e){i.send(JSON.stringify({message:"unsubscribe"}))})),function(){clearInterval(e)}}),[i]),a.a.createElement(Nt.Provider,{value:{isCreateRoom:t,setIsCreateRoom:c}},a.a.createElement("div",{className:"App",style:{display:"flex",height:"100%",width:"100%"}},!ke.isMobile&&a.a.createElement(Je,null),a.a.createElement(we.c,null,a.a.createElement(we.a,{exact:!0,path:"/",component:bn}),a.a.createElement(we.a,{exact:!0,path:"/presentation/:enterId",component:ke.isMobile?At:ct}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(198);var _t=Object(l.a)(),Ft=[_t],Qt=Object(u.createStore)(C,Object(s.composeWithDevTools)(u.applyMiddleware.apply(void 0,Ft)));_t.run(ve),i.a.render(a.a.createElement(d.a,{store:Qt},a.a.createElement(o.a,null,a.a.createElement(Lt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},49:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=49}},[[115,1,2]]]);
//# sourceMappingURL=main.935c2881.chunk.js.map